<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PATHPUKUR HIGH SCHOOL (H.S)</title>

  <!-- Favicon & Touch Icon -->
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="apple-touch-icon" href="PHS-LOGO.png">

  <!-- CSS -->
  <link rel="stylesheet" href="style.css">

  <!-- тЬЕ рж╕рзЗрж╢ржи ржЪрзЗржХ -->
  <script>
    if (sessionStorage.getItem("studentLoggedIn") !== "true") {
      window.location.replace("index.html");
    }
  </script>
</head>
   
<body>

  <!-- тЬЕ School Branding -->
  <img src="PHS-LOGO.png" alt="SCHOOL LOGO" class="logo">
  <h1>ржкрж╛рждржкрзБржХрзБрж░ рж╣рж╛ржЗ рж╕рзНржХрзБрж▓ (ржЙржГ ржорж╛ржГ)</h1>
  <h2 class="blink">ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржмрж┐ржЬрзНржЮржкрзНрждрж┐ <span class="emoji">ЁЯУв</span></h2>

  <!-- тЬЕ Scrolling Notice -->
  <div class="wrapper">
    <div class="marquee-container">
      <div id="marquee" class="marquee-content"></div>
    </div>
  </div>

  <!-- тЬЕ External Notice File -->
  <script src="student_notice.js"></script>
  <script>
    const marquee = document.getElementById("marquee");

    studentNotices.forEach(notice => {
      const span = document.createElement("span");
      span.textContent = `${notice.date} - ${notice.text} `;
      span.style.color = notice.color || "black";
      span.style.fontWeight = "bold";
      span.style.marginRight = "30px";
      marquee.appendChild(span);
    });

    // Marquee pause on hover/touch
    marquee.addEventListener("mouseover", () => marquee.classList.add("paused"));
    marquee.addEventListener("mouseout", () => marquee.classList.remove("paused"));
    marquee.addEventListener("touchstart", () => marquee.classList.add("paused"));
    marquee.addEventListener("touchend", () => marquee.classList.remove("paused"));
  </script>

  <!-- тЬЕ ржЯрзЗржмрж┐рж▓ ржирзЛржЯрж┐рж╢ ржмрзЛрж░рзНржб -->
<h2 style="text-align:center; margin-top: 30px;">ЁЯУЛ ржирзЛржЯрж┐рж╢ ржмрзЛрж░рзНржб ЁЯУЛ</h2>
<div id="notice-board" style="margin: 220px auto; max-width: 800px;"></div>
<div style="text-align:center; margin-bottom: 10px;">
  <button onclick="prevPage()" id="prevBtn">тПк Back</button>
  <span id="pageNumber" style="margin: 0 10px;">Page 1</span>
  <button onclick="nextPage()" id="nextBtn">тПй Next</button>
</div>
<!-- тЬЕ External Notice Bord -->
  <script src="student_notice.js"></script>
<script>
  const noticesPerPage = 10;
  let currentPage = 1;

  function renderNoticeTable() {
    const container = document.getElementById('notice-board');
    container.innerHTML = "";

    const start = (currentPage - 1) * noticesPerPage;
    const end = start + noticesPerPage;
    const paginatedNotices = studentTableNotices.slice(start, end);

    const table = document.createElement('table');
    table.style.width = '100%';
    table.style.borderCollapse = 'collapse';
    table.style.textAlign = 'center';

    const thead = document.createElement('thead');
    thead.innerHTML = `
      <tr style="background-color: #f0f0f0;">
        <th style="padding: 10px; border: 1px solid #ccc;">рждрж╛рж░рж┐ржЦ</th>
        <th style="padding: 10px; border: 1px solid #ccc;">ржирзЛржЯрж┐рж╢</th>
        <th style="padding: 10px; border: 1px solid #ccc;">рж▓рж┐ржВржХ</th>
      </tr>
    `;
    table.appendChild(thead);

    const tbody = document.createElement('tbody');
    paginatedNotices.forEach(notice => {
      const tr = document.createElement('tr');

      tr.innerHTML = `
        <td style="padding: 8px; border: 1px solid #ccc;">${notice.date}</td>
        <td style="padding: 8px; border: 1px solid #ccc; color: ${notice.color || '#000'};">${notice.text}</td>
        <td style="padding: 8px; border: 1px solid #ccc;">
          ${
            notice.link && notice.link.trim() !== ''
              ? `<a href="${notice.link}" target="_blank">Open</a> |
                 <a href="${notice.link}" download>Download</a>`
              : "тАФ"
          }
        </td>
      `;
      tbody.appendChild(tr);
    });

    table.appendChild(tbody);
    container.appendChild(table);

    document.getElementById('pageNumber').textContent = `Page ${currentPage} of ${Math.ceil(studentTableNotices.length / noticesPerPage)}`;
    document.getElementById('prevBtn').disabled = currentPage === 1;
    document.getElementById('nextBtn').disabled = currentPage >= Math.ceil(studentTableNotices.length / noticesPerPage);
  }

  function nextPage() {
    if (currentPage < Math.ceil(studentTableNotices.length / noticesPerPage)) {
      currentPage++;
      renderNoticeTable();
    }
  }

  function prevPage() {
    if (currentPage > 1) {
      currentPage--;
      renderNoticeTable();
    }
  }
</script>

<script>
  window.onload = () => {
    loadStudentExamLinks();   // ржЖржЧрзЗрж░ ржкрж░рзАржХрзНрж╖рж╛рж░ рж░рзЗржЬрж╛рж▓рзНржЯ ржмрж╛ржЯржи рж▓рзЛржб
    renderNoticeTable();      // ржЯрзЗржмрж┐рж▓ ржирзЛржЯрж┐рж╢ рж▓рзЛржб
  };
</script>

  <h2 style="text-align:center;">ЁЯУД ржкрж░рзАржХрзНрж╖рж╛рж░ ржлрж▓рж╛ржлрж▓ ЁЯУД</h2>
  <div id="exam-buttons" style="text-align:center;"></div>

  <script>
    let studentData = {};

    // рж▓рж┐ржЩрзНржХ рж▓рзЛржб
    function loadStudentExamLinks() {
      fetch('config_student.json')
        .then(response => response.json())
        .then(data => {
          studentData = data;
          renderStudentButtons();
        })
        .catch(error => {
          console.error('ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи рж▓рзЛржбрзЗ рж╕ржорж╕рзНржпрж╛:', error);
        });
    }

    // ржмрж╛ржЯржи рждрзИрж░рж┐ ржУ ржжрзЗржЦрж╛ржирзЛ
    function renderStudentButtons() {
      const container = document.getElementById('exam-buttons');
      container.innerHTML = '';

      // ржЗржЙржирж┐ржХ ржХрзНрж▓рж╛рж╕ рж▓рж┐рж╕рзНржЯ рждрзИрж░рж┐
      const classes = [...new Set(Object.keys(studentData).map(k => k.split('_')[0]))];

      classes.forEach(cls => {
        const title = document.createElement('div');
        title.className = 'class-title';
        title.textContent = 'CLASS ' + cls.replace('X_TEST', 'X');
        container.appendChild(title);

        const exams = ['1ST', '2ND', '3RD', 'TEST'];
        exams.forEach(exam => {
          const key = `${cls}_${exam}`;
          if (studentData[key]) {
            const link = studentData[key].url;
            const a = document.createElement('a');
            a.className = 'exam-link';
            a.textContent = exam === 'TEST' ? 'TEST EXAM' : exam;
            a.href = '#';
            a.onclick = (e) => {
  e.preventDefault();
  // ржЖржЧрзЗрж░ ржорзЗрж╕рзЗржЬ ржерж╛ржХрж▓рзЗ рж╕рж░рж┐рзЯрзЗ ржлрзЗрж▓рзБржи
  const oldMsg = a.nextElementSibling;
  if (oldMsg && oldMsg.classList.contains('avail-msg')) {
    oldMsg.remove();
  }

  if (link && link.trim() !== '') {
    window.open(link, '_blank');
  } else {
    const msg = document.createElement('div');
    msg.className = 'avail-msg';
    msg.textContent = 'ЁЯФФ рж╢рзАржШрзНрж░ржЗ ржЙржкрж▓ржмрзНржз рж╣ржмрзЗ ЁЯФФ';

    a.parentNode.insertBefore(msg, a.nextSibling);

    // 3 рж╕рзЗржХрзЗржирзНржб ржкрж░ ржмрж╛рж░рзНрждрж╛ржЯрж┐ ржЕржЯрзЛ ржЧрж╛рзЯрзЗржм рж╣ржмрзЗ
    setTimeout(() => {
      msg.remove();
    }, 3000);
  }
};
            container.appendChild(a);
          }
        });
      });
    }

    window.onload = loadStudentExamLinks;
  </script>
  

  <!-- Footer -->
  <footer>
    <hr>
    ржмрж┐ржжрзНржпрж╛рж▓ржпрж╝ ржкрзНрж░ржзрж╛ржирзЗрж░ ржирж┐рж░рзНржжрзЗрж╢ржирж╛ржпрж╝, ржкрж╛рждржкрзБржХрзБрж░ рж╣рж╛ржЗ рж╕рзНржХрзБрж▓ (ржЙржГ ржорж╛ржГ)
  </footer>

  <!-- Main JS -->
  <script src="script.js"></script>
</body>
</html>
