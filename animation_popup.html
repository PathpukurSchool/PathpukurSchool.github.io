<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ржмрж┐рж╢рзЗрж╖ ржжрж┐ржмрж╕рзЗрж░ ржЕрзНржпрж╛ржирж┐ржорзЗрж╢ржи ржкржк-ржЖржк</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Baloo+Da+2:wght@500;700&family=Noto+Serif+Bengali:wght@600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <style>
        /* =======================================
        рзз. рж╕рж╛ржзрж╛рж░ржг рж╕рзНржЯрж╛ржЗрж▓ ржУ ржЕрзНржпрж╛ржирж┐ржорзЗрж╢ржи 
        =======================================
        */
        #eventPopupOverlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000; 
            cursor: pointer; 
            backdrop-filter: blur(5px);
            opacity: 1;
            transition: opacity 0.5s ease-out;
        }

        #popupContent {
            border-radius: 20px;
            padding: 40px 50px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.8);
            transform: scale(0.9);
            animation: bounceIn 1s forwards cubic-bezier(0.175, 0.885, 0.32, 1.275);
            max-width: 90%;
            width: 500px;
            position: relative;
            cursor: default;
            border: 5px solid #fff;
            overflow: hidden; 
        }

        #closeButton {
            position: absolute;
            top: 15px;
            right: 25px;
            font-size: 30px;
            color: #fff;
            cursor: pointer;
            transition: transform 0.3s, color 0.3s;
            line-height: 1;
            font-family: Arial, sans-serif;
            font-weight: bold;
            text-shadow: 0 0 5px #000;
            z-index: 10001;
        }

        #closeButton:hover {
            color: #ff0055;
            transform: rotate(90deg) scale(1.1);
        }

        /* ржЕрзНржпрж╛ржирж┐ржорзЗрж╢ржи ржлрзНрж░рзЗржо */
        @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.1); opacity: 1; }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); }
        }
        @keyframes confettiFall {
            0% { transform: translateY(-10vh) rotateZ(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotateZ(720deg); opacity: 0.5; }
        }
        .confetti {
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            animation: confettiFall linear infinite;
            pointer-events: none;
            z-index: 9999;
        }

        /* =======================================
        рзи. ржЗржнрзЗржирзНржЯ-ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж╕рзНржЯрж╛ржЗрж▓ 
        =======================================
        */
        
        /* ржХржоржи рж╣рзЗржбрж╛рж░рзЗрж░ рж╕рзНржЯрж╛ржЗрж▓ */
        .school-header {
            font-family: 'Noto Serif Bengali', serif;
            font-size: 1.1em;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.5);
            font-weight: 600;
        }

        /* рж╢рзБржн ржиржмржмрж░рзНрж╖, ржкрзНрж░рждрж┐рж╖рзНржарж╛ ржжрж┐ржмрж╕ */
        .style-new-year {
            background: linear-gradient(135deg, #ff6b6b, #48dbfb, #1dd1a1, #feca57);
            border-color: #ffeaa7;
        }
        .style-new-year h1 { color: #fff; text-shadow: 4px 4px #c23616, 6px 6px #000; }
        .style-new-year p { color: #ffeaa7; text-shadow: 1px 1px #333; }
        .style-new-year .school-header { border-bottom: 2px solid #fff; color: #fff; }

        /* ржЬрж╛рждрзАржпрж╝ ржжрж┐ржмрж╕ (ржкрзНрж░ржЬрж╛рждржирзНрждрзНрж░, рж╕рзНржмрж╛ржзрзАржирждрж╛, ржирзЗрждрж╛ржЬрзА, ржЧрж╛ржирзНржзрзА, ржХрзНрж╖рзБржжрж┐рж░рж╛ржо) */
        .style-national {
            background: linear-gradient(180deg, #ff9933 0%, #ffffff 50%, #138808 100%);
            border-color: #000080; 
        }
        .style-national h1, .style-national h2, .style-national p { color: #000080; }
        .style-national .school-header { border-bottom: 2px solid #000080; color: #000080; }
        
        /* ржХржмрж┐ ржЬржпрж╝ржирзНрждрзА, ржорж╛рждрзГржнрж╛рж╖рж╛, ржмрж┐ржжрзНржпрж╛рж╕рж╛ржЧрж░ (ржЬрзНржЮрж╛ржи/рж╕рж╛рж╣рж┐рждрзНржп ржерж┐ржо) */
        .style-tagore {
            background: linear-gradient(135deg, #f0e68c, #fff8dc, #f0e68c);
            border-color: #8b4513;
        }
        .style-tagore h1, .style-tagore h2 { color: #8b4513; text-shadow: 1px 1px #fff; font-family: 'Noto Serif Bengali', serif; }
        .style-tagore p { color: #333; }
        .style-tagore .school-header { border-bottom: 2px solid #8b4513; color: #8b4513; }

        /* ржмрж┐рж╢рзНржм ржкрж░рж┐ржмрзЗрж╢ ржжрж┐ржмрж╕ (ржЬрзБржи рзл) */
        .style-environment {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
            border-color: #16a085;
        }
        .style-environment h1, .style-environment h2 { color: #fff; text-shadow: 1px 1px #16a085; }
        .style-environment p { color: #ecf0f1; }
        .style-environment .school-header { border-bottom: 2px solid #ecf0f1; color: #ecf0f1; }

        /* ржЬрж╛рждрзАржпрж╝ ржмрж┐ржЬрзНржЮрж╛ржи ржжрж┐ржмрж╕ (ржирждрзБржи ржХрзНрж▓рж╛рж╕) */
        .style-science {
            background: linear-gradient(135deg, #4285f4, #0f9d58);
            border-color: #f4b400;
        }
        .style-science h1, .style-science h2 { color: #fff; text-shadow: 2px 2px #333; }
        .style-science p { color: #e6e6e6; }
        .style-science .school-header { border-bottom: 2px solid #f4b400; color: #f4b400; }
        
        /* рж╢рж┐ржХрзНрж╖ржХ ржжрж┐ржмрж╕ */
        .style-teachers-day {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            border-color: #795548;
        }
        .style-teachers-day h1, .style-teachers-day h2 { color: #fff; text-shadow: 2px 2px #c0392b; }
        .style-teachers-day p { color: #ffe0b2; }
        .style-teachers-day .school-header { border-bottom: 2px solid #ffe0b2; color: #ffe0b2; }

        /* рж╢рж┐рж╢рзБ ржжрж┐ржмрж╕ */
        .style-childrens-day {
            background: radial-gradient(circle, #f4b400, #ea4335);
            border-color: #4285f4;
        }
        .style-childrens-day h1, .style-childrens-day h2 { color: #fff; text-shadow: 2px 2px #34a853; }
        .style-childrens-day p { color: #f8d484; }
        .style-childrens-day .school-header { border-bottom: 2px solid #fff; color: #fff; }

        /* рж╢рзБржн ржмржбрж╝ржжрж┐ржи */
        .style-christmas {
            background: linear-gradient(135deg, #c0392b, #27ae60);
            border-color: #f1c40f;
        }
        .style-christmas h1 { color: #f1c40f; text-shadow: 2px 2px #000; }
        .style-christmas h2 { color: #fff; }
        .style-christmas p { color: #ecf0f1; }
        .style-christmas .school-header { border-bottom: 2px solid #f1c40f; color: #f1c40f; }


        /* рж╕рж╛ржзрж╛рж░ржг ржЯрзЗржХрзНрж╕ржЯ рж╕рзНржЯрж╛ржЗрж▓ */
        #popupContent h1 {
            font-family: 'Baloo Da 2', sans-serif;
            font-size: 3.5em;
            margin: 0 0 10px 0;
            letter-spacing: 3px;
        }

        #popupContent h2 {
            font-family: 'Noto Serif Bengali', serif;
            font-size: 2em;
            margin: 0 0 15px 0;
        }
        
        #popupContent p {
            font-family: 'Noto Serif Bengali', serif;
            font-size: 1.3em;
            margin: 10px 0 0 0;
            line-height: 1.5;
        }
        
        /* ржорж┐ржбрж┐ржпрж╝рж╛ ржХрзЛржпрж╝рзЗрж░рж┐ */
        @media (max-width: 600px) {
            #popupContent {
                padding: 25px 20px;
                width: 95%;
            }
            #popupContent h1 {
                font-size: 2.5em;
                letter-spacing: 2px;
            }
            #popupContent h2 {
                font-size: 1.5em;
            }
            .school-header {
                font-size: 1em;
            }
        }
    </style>
</head>
<body>

    <div id="eventPopupOverlay" onclick="closePopup(event)" style="display: none;">
        <div id="popupContent" onclick="event.stopPropagation()">
            </div>
        <div id="confetti-container"></div>
    </div>

    <script>
        // =======================================
        // рзз. ржЗржнрзЗржирзНржЯ рж╕ржоржпрж╝рж╕рзВржЪрж┐ (ржорж╛рж╕: 0=ржЬрж╛ржирзБрзЯрж╛рж░рж┐ ржерзЗржХрзЗ 11=ржбрж┐рж╕рзЗржорзНржмрж░)
        // **ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг:** рж╕рж░рж╕рзНржмрждрзА ржкрзВржЬрж╛ ржкрж░рж┐ржмрж░рзНрждржирж╢рзАрж▓, рждрж╛ржЗ ржкрзНрж░рждрж┐ ржмржЫрж░ рждрж╛рж░рж┐ржЦржЯрж┐ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ ржЖржкржбрзЗржЯ ржХрж░рзБржиред
        // =======================================
        const eventSchedule = [
            // { name: "ржЗржнрзЗржирзНржЯрзЗрж░ ржирж╛ржо", month: 0-11, date: 1-31, durationDays: 1/3/7, styleClass: "CSS ржХрзНрж▓рж╛рж╕", icon: "Emoji", title: "ржмржбрж╝ рж╢рж┐рж░рзЛржирж╛ржо", subtitle: "ржЫрзЛржЯ ржмрж┐ржмрж░ржг" }
            
            // ржЬрж╛ржирзБржпрж╝рж╛рж░рж┐
            { name: "рж╢рзБржн ржЗрж░рж╛ржЬрзА ржиржмржмрж░рзНрж╖!", month: 0, date: 1, durationDays: 7, styleClass: "style-new-year", icon: "ЁЯОЙ", title: "ржирждрзБржи ржмржЫрж░ ржЖржкржирж╛рж░ ржЬрзАржмржирзЗ ржмржпрж╝рзЗ ржЖржирзБржХ ржЖржиржирзНржж, рж╢рж╛ржирзНрждрж┐ ржУ рж╕рж╛ржлрж▓рзНржпред", subtitle: "Happy New Year! тЬи" },
            { name: "ржмрж┐ржжрзНржпрж╛рж▓ржпрж╝ ржкрзНрж░рждрж┐рж╖рзНржарж╛ ржжрж┐ржмрж╕", month: 0, date: 2, durationDays: 1, styleClass: "style-new-year", icon: "ЁЯПл", title: "ржЖржорж╛ржжрзЗрж░ ржРрждрж┐рж╣рзНржп ржУ ржЬрзНржЮрж╛ржирзЗрж░ ржкрзАржарж╕рзНржерж╛ржирзЗрж░ ржкрзНрж░рждрж┐рж╖рзНржарж╛ ржжрж┐ржмрж╕ред", subtitle: "Pathpukur High School (HS)-ржПрж░ ржкрзНрж░рждрж┐рж╖рзНржарж╛ ржжрж┐ржмрж╕ред" },
            { name: "рж╕рзНржмрж╛ржорзА ржмрж┐ржмрзЗржХрж╛ржиржирзНржжрзЗрж░ ржЬржирзНржоржЬрзЯржирзНрждрзА", month: 0, date: 12, durationDays: 1, styleClass: "style-tagore", icon: "ЁЯТб", title: '"ржЬрж╛ржЧрзЛ, ржУржарзЛ, ржПржмржВ рж▓ржХрзНрж╖рзНржп ржкрзВрж░ржг ржирж╛ рж╣ржУрзЯрж╛ ржкрж░рзНржпржирзНржд ржерзЗржорзЛ ржирж╛!"', subtitle: "рж╕рзНржмрж╛ржорзА ржмрж┐ржмрзЗржХрж╛ржиржирзНржж (ржЬрж╛рждрзАржпрж╝ ржпрзБржм ржжрж┐ржмрж╕)" },
            { name: "ржирзЗрждрж╛ржЬрзА ржЬржирзНржоржЬрзЯржирзНрждрзА", month: 0, date: 23, durationDays: 1, styleClass: "style-national", icon: "ЁЯЗоЁЯЗ│", title: "ржЖржорж░рж╛ ржпрзЗржи ржжрзЗрж╢рзЗрж░ рж╕рзЗржмрж╛ржпрж╝ ржирж┐ржЬрзЗржжрзЗрж░ ржирж┐ржпрж╝рзЛржЬрж┐ржд ржХрж░рж┐ред", subtitle: "ржирзЗрждрж╛ржЬрзА рж╕рзБржнрж╛рж╖ ржЪржирзНржжрзНрж░ ржмрж╕рзБ (ржкрж░рж╛ржХрзНрж░ржо ржжрж┐ржмрж╕)" },
            { name: "ржкрзНрж░ржЬрж╛рждржирзНрждрзНрж░ ржжрж┐ржмрж╕", month: 0, date: 26, durationDays: 1, styleClass: "style-national", icon: "ЁЯЗоЁЯЗ│", title: "ржнрж╛рж░рждрзАржпрж╝ рж╕ржВржмрж┐ржзрж╛ржи ржХрж╛рж░рзНржпржХрж░ рж╣ржУржпрж╝рж╛рж░ ржРрждрж┐рж╣рж╛рж╕рж┐ржХ ржжрж┐ржиред", subtitle: "ржкрзНрж░ржЬрж╛рждржирзНрждрзНрж░ ржжрж┐ржмрж╕! ржЬрзЯ рж╣рж┐ржирзНржж!" },

            // ржлрзЗржмрзНрж░рзБржпрж╝рж╛рж░рж┐
            { name: "рж╕рж░рж╕рзНржмрждрзА ржкрзВржЬрж╛", month: 1, date: 15, durationDays: 3, styleClass: "style-tagore", icon: "ЁЯжв", title: "ржмрж┐ржжрзНржпрж╛рж░ ржжрзЗржмрзА ржорж╛ рж╕рж░рж╕рзНржмрждрзАрж░ ржЪрж░ржгрзЗ ржЬрж╛ржирж╛ржЗ ржкрзНрж░ржгрж╛ржоред", subtitle: "**ржжрзНрж░рж╖рзНржЯржмрзНржп: ржПржЗ рждрж╛рж░рж┐ржЦржЯрж┐ ржкрзНрж░рждрж┐ ржмржЫрж░ ржкрж░рж┐ржмрж░рзНрждржирж╢рзАрж▓ред**" },
            { name: "ржорж╛рждрзГржнрж╛рж╖рж╛ ржжрж┐ржмрж╕", month: 1, date: 21, durationDays: 1, styleClass: "style-tagore", icon: "ЁЯЗзЁЯЗй", title: "ржнрж╛рж╖рж╛рж╢рж╣рзАржжржжрзЗрж░ ржкрзНрж░рждрж┐ рж╕рж╢рзНрж░ржжрзНржз рж╢рзНрж░ржжрзНржзрж╛ржЮрзНржЬрж▓рж┐ред", subtitle: "ржЖржирзНрждрж░рзНржЬрж╛рждрж┐ржХ ржорж╛рждрзГржнрж╛рж╖рж╛ ржжрж┐ржмрж╕ред ржмрж╛ржВрж▓рж╛ ржнрж╛рж╖рж╛ ржЬрж┐ржирзНржжрж╛ржмрж╛ржжред" },
            { name: "ржЬрж╛рждрзАржпрж╝ ржмрж┐ржЬрзНржЮрж╛ржи ржжрж┐ржмрж╕", month: 1, date: 28, durationDays: 1, styleClass: "style-science", icon: "ЁЯФм", title: "ржмрж┐ржЬрзНржЮрж╛ржи ржУ ржкрзНрж░ржпрзБржХрзНрждрж┐рж░ ржЧрзБрж░рзБрждрзНржм ржЙржкрж▓ржмрзНржзрж┐ ржХрж░рж┐ред", subtitle: "Sir C.V. Raman-ржПрж░ ржЖржмрж┐рж╖рзНржХрж╛рж░рзЗрж░ ржжрж┐ржиржЯрж┐ рж╕рзНржорж░ржг ржХрж░рж┐ред" },

            // ржПржкрзНрж░рж┐рж▓ ржорж╛рж╕ (ржорж╛рж╕: 0=ржЬрж╛ржирзБрзЯрж╛рж░рж┐ ржерзЗржХрзЗ 11=ржбрж┐рж╕рзЗржорзНржмрж░)
            { name: "рж╢рзБржн ржмрж╛ржВрж▓рж╛ ржиржмржмрж░рзНрж╖!", month: 3, date: 14, durationDays: 4, styleClass: "style-new-year", icon: "ЁЯОК", title: "ржирждрзБржирзЗрж░ ржЖржЧржоржирзЗ рж╕ржмрж╛рж░ ржЬрзАржмржи ржнрж░рзЗ ржЙржарзБржХ ржЖржиржирзНржж ржЖрж░ рж╢рж╛ржирзНрждрж┐рждрзЗред", subtitle: "рж╢рзБржн ржкржпрж╝рж▓рж╛ ржмрзИрж╢рж╛ржЦ!" },
            
            // ржорзЗ
            { name: "рж░ржмрзАржирзНржжрзНрж░ ржЬржпрж╝ржирзНрждрзА", month: 4, date: 7, durationDays: 1, styleClass: "style-tagore", icon: "ЁЯЦЛя╕П", title: '"ржЪрж┐рждрзНржд ржпрзЗржерж╛ ржнрзЯрж╢рзВржирзНржп, ржЙржЪрзНржЪ ржпрзЗржерж╛ рж╢рж┐рж░..."', subtitle: "ржХржмрж┐ржЧрзБрж░рзБ рж░ржмрзАржирзНржжрзНрж░ржирж╛рже ржарж╛ржХрзБрж░рзЗрж░ ржЬржирзНржоржмрж╛рж░рзНрж╖рж┐ржХрзА" },
            { name: "ржиржЬрж░рзБрж▓ ржЬржпрж╝ржирзНрждрзА", month: 4, date: 25, durationDays: 1, styleClass: "style-tagore", icon: "ЁЯО╢", title: '"ржжрзБрж░рзНржЧржо ржЧрж┐рж░рж┐ ржХрж╛ржирзНрждрж╛рж░ ржорж░рзБ ржжрзБрж╕рзНрждрж░ ржкрж╛рж░рж╛ржмрж╛рж░..."', subtitle: "ржЬрж╛рждрзАржпрж╝ ржХржмрж┐ ржХрж╛ржЬрзА ржиржЬрж░рзБрж▓ ржЗрж╕рж▓рж╛ржорзЗрж░ ржЬржирзНржоржмрж╛рж░рзНрж╖рж┐ржХрзА" },

            // ржЬрзБржи
            { name: "ржмрж┐рж╢рзНржм ржкрж░рж┐ржмрзЗрж╢ ржжрж┐ржмрж╕", month: 5, date: 5, durationDays: 1, styleClass: "style-environment", icon: "ЁЯМ│", title: "ржЖржорж╛ржжрзЗрж░ ржзрж░рж┐рждрзНрж░рзАржХрзЗ рж░ржХрзНрж╖рж╛ ржХрж░рж╛рж░ ржЕржЩрзНржЧрзАржХрж╛рж░ ржХрж░рж┐ред", subtitle: "ржПржХржЯрж┐ рж╕ржмрзБржЬ ржкрзГржерж┐ржмрзАрж░ ржЬржирзНржп ржПржЧрж┐ржпрж╝рзЗ ржЖрж╕рзБржиред" },

            // ржЖржЧрж╕рзНржЯ
            { name: "рж╕рзНржмрж╛ржзрзАржирждрж╛ ржжрж┐ржмрж╕", month: 7, date: 15, durationDays: 1, styleClass: "style-national", icon: "ЁЯЗоЁЯЗ│", title: "ржжрзЗрж╢ржкрзНрж░рзЗржо ржУ ржЖрждрзНржорждрзНржпрж╛ржЧрзЗрж░ ржорж╣рж╛ржи ржЙрзОрж╕ржмред", subtitle: "рж╕рзНржмрж╛ржзрзАржирждрж╛ ржжрж┐ржмрж╕! ржмржирзНржжрзЗ ржорж╛рждрж░ржорзНред" },

            // рж╕рзЗржкрзНржЯрзЗржорзНржмрж░
            { name: "рж╢рж┐ржХрзНрж╖ржХ ржжрж┐ржмрж╕", month: 8, date: 5, durationDays: 1, styleClass: "style-teachers-day", icon: "ЁЯСитАНЁЯПл", title: "ржЬрзНржЮрж╛ржиржжрж╛ржиржХрж╛рж░рзА рж╕ржХрж▓ ржЧрзБрж░рзБржЬржиржжрзЗрж░ ржЬрж╛ржирж╛ржЗ рж╕рж╢рзНрж░ржжрзНржз ржкрзНрж░ржгрж╛ржоред", subtitle: "ржб. рж╕рж░рзНржмржкрж▓рзНрж▓рзА рж░рж╛ржзрж╛ржХрзГрж╖рзНржгржирзЗрж░ ржЬржирзНржоржмрж╛рж░рзНрж╖рж┐ржХрзАред" },
            { name: "ржмрж┐ржжрзНржпрж╛рж╕рж╛ржЧрж░ ржЬржирзНржоржЬржпрж╝ржирзНрждрзА", month: 8, date: 26, durationDays: 1, styleClass: "style-tagore", icon: "ЁЯУЪ", title: '"ржжрзЯрж╛ ржУ ржмрж┐ржжрзНржпрж╛рж░ рж╕рж╛ржЧрж░" - рж╕ржорж╛ржЬ рж╕ржВрж╕рзНржХрж╛рж░ржХрзЗрж░ ржкрзНрж░рждрж┐ рж╢рзНрж░ржжрзНржзрж╛ред', subtitle: "ржИрж╢рзНржмрж░ржЪржирзНржжрзНрж░ ржмрж┐ржжрзНржпрж╛рж╕рж╛ржЧрж░рзЗрж░ ржЬржирзНржоржмрж╛рж░рзНрж╖рж┐ржХрзАред" },

            // ржЕржХрзНржЯрзЛржмрж░
            { name: "ржЧрж╛ржирзНржзрзА ржЬржпрж╝ржирзНрждрзА", month: 9, date: 2, durationDays: 1, styleClass: "style-national", icon: "ЁЯХКя╕П", title: "ржЕрж╣рж┐ржВрж╕рж╛ ржУ рж╢рж╛ржирзНрждрж┐рж░ ржкржерзЗ ржЪрж▓рж╛рж░ ржЕржЩрзНржЧрзАржХрж╛рж░ ржХрж░рж┐ред", subtitle: "ржЬрж╛рждрж┐рж░ ржЬржиржХ ржорж╣рж╛рждрзНржорж╛ ржЧрж╛ржирзНржзрзАрж░ ржЬржирзНржоржжрж┐ржмрж╕" },

            // ржиржнрзЗржорзНржмрж░
            { name: "рж╢рж┐рж╢рзБ ржжрж┐ржмрж╕", month: 10, date: 14, durationDays: 1, styleClass: "style-childrens-day", icon: "ЁЯС╢", title: "рж╕ржХрж▓ рж╢рж┐рж╢рзБрж░ ржЬржирзНржп ржирж┐рж░рж╛ржкржж ржУ ржЙржЬрзНржЬрзНржмрж▓ ржнржмрж┐рж╖рзНржпрзО ржХрж╛ржоржирж╛ ржХрж░рж┐ред", subtitle: "ржкржирзНржбрж┐ржд ржЬржУрж╣рж░рж▓рж╛рж▓ ржирзЗрж╣рзЗрж░рзБрж░ ржЬржирзНржоржжрж┐ржмрж╕ред" },
            
            // ржбрж┐рж╕рзЗржорзНржмрж░
            { name: "ржЦрзБржжрж┐рж░рж╛ржорзЗрж░ ржЬржирзНржоржжрж┐ржмрж╕", month: 11, date: 3, durationDays: 1, styleClass: "style-national", icon: "ЁЯТг", title: "ржжрзЗрж╢рзЗрж░ ржЬржирзНржп ржЖрждрзНржоржмрж▓рж┐ржжрж╛ржиржХрж╛рж░рзА ржмрзАрж░ рж╢рж╣рж┐ржжрзЗрж░ ржкрзНрж░рждрж┐ рж╢рзНрж░ржжрзНржзрж╛ред", subtitle: "рж╢рж╣рж┐ржж ржХрзНрж╖рзБржжрж┐рж░рж╛ржо ржмрж╕рзБрж░ ржЬржирзНржоржмрж╛рж░рзНрж╖рж┐ржХрзА" },
            { name: "рж╢рзБржн ржмржбрж╝ржжрж┐ржи", month: 11, date: 9, durationDays: 5, styleClass: "style-christmas", icon: "ЁЯОД", title: "ржмржбрж╝ржжрж┐ржирзЗрж░ ржЖржиржирзНржж ржУ рж╢рж╛ржирзНрждрж┐ рж╕ржХрж▓рзЗрж░ ржЬрзАржмржирзЗ ржЖрж╕рзБржХред", subtitle: "Merry Christmas! ЁЯОБ" }
        ];
        
        // =======================================
        // рзи. ржХржиржлрзЗржЯрж┐ ржУ ржХрзНрж▓рзЛржЬ ржлрж╛ржВрж╢ржи (ржкрзВрж░рзНржмрзЗрж░ ржорждрзЛржЗ ржерж╛ржХржмрзЗ)
        // =======================================
        
        function createConfetti(count = 50) {
            const colors = ['#f7d794', '#ff6b81', '#70a1ff', '#2ed573', '#ffa502', '#fff'];
            const confettiContainer = document.getElementById('confetti-container');
            confettiContainer.innerHTML = ''; 

            for (let i = 0; i < count; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDelay = Math.random() * 5 + 's';
                confetti.style.animationDuration = Math.random() * 5 + 5 + 's'; 
                confetti.style.width = Math.random() * 8 + 5 + 'px';
                confetti.style.height = confetti.style.width;
                confettiContainer.appendChild(confetti);
            }
        }

        window.closePopup = function(event) {
            const overlay = document.getElementById('eventPopupOverlay');
            if (overlay && (event.target === overlay || event.target.id === 'closeButton')) {
                overlay.style.opacity = '0'; 
                setTimeout(() => {
                    overlay.style.display = 'none';
                    
                    // ржирждрзБржи ржпрзЛржЧ: ржЖржЗржлрзНрж░рзЗржоржХрзЗ ржЕржжрзГрж╢рзНржп ржХрж░рж╛
                    if (window.parent && window.parent.document) {
                        const iframe = window.parent.document.getElementById('popup-iframe');
                        if (iframe) {
                            iframe.style.display = 'none';
                        }
                    }
                }, 500); 
            }
        }

        // =======================================
        // рзй. ржЗржнрзЗржирзНржЯ рж▓ржЬрж┐ржХ ржПржмржВ ржХржирзНржЯрзЗржирзНржЯ ржЗржиржЬрзЗржХрж╢ржи (Header ржпрзБржХрзНржд ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ)
        // =======================================
        
        function getActiveEvent() {
            const today = new Date();
            const currentMonth = today.getMonth();
            const currentDay = today.getDate();
            const currentYear = today.getFullYear();

            for (const event of eventSchedule) {
                const eventStart = new Date(currentYear, event.month, event.date);
                const eventEnd = new Date(eventStart);
                eventEnd.setDate(eventEnd.getDate() + event.durationDays - 1); 
                
                const todayStartOfDay = new Date(currentYear, currentMonth, currentDay);

                if (todayStartOfDay >= eventStart && todayStartOfDay <= eventEnd) {
                    return event; 
                }
            }
            return null;
        }
        
       function injectPopupContent(event) {
                const contentDiv = document.getElementById('popupContent');
                const overlayDiv = document.getElementById('eventPopupOverlay');
            
                if (contentDiv && overlayDiv) {
                    // ржирждрзБржи ржпрзЛржЧ: ржЖржЗржлрзНрж░рзЗржоржХрзЗ ржжрзГрж╢рзНржпржорж╛ржи ржХрж░рж╛
                    if (window.parent && window.parent.document) {
                        const iframe = window.parent.document.getElementById('popup-iframe');
                        if (iframe) {
                            iframe.style.display = 'block'; 
                        }
                    }
                // рзз. рж╕рзНржЯрж╛ржЗрж▓ ржХрзНрж▓рж╛рж╕ ржпрзБржХрзНржд ржХрж░рж╛
                contentDiv.className = '';
                contentDiv.classList.add(event.styleClass);

                // рзи. ржХржирзНржЯрзЗржирзНржЯ ржЗржиржЬрзЗржХрзНржЯ ржХрж░рж╛ (рж╕рзНржХрзБрж▓рзЗрж░ ржкржХрзНрж╖ ржерзЗржХрзЗ рж▓рзЗржЦрж╛ржЯрж┐ ржпрзБржХрзНржд ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ)
                contentDiv.innerHTML = `
    <span id="closeButton" onclick="closePopup(event)">&#xD7;</span>
    <p class="school-header">
        ржкрж╛рждржкрзБржХрзБрж░ рж╣рж╛ржЗ рж╕рзНржХрзБрж▓рзЗрж░ ржкржХрзНрж╖ ржерзЗржХрзЗ -<br>
        <span style="font-size: 0.8em; font-weight: 500;">(On behalf of Pathpukur High School HS)</span>
    </p>
    <h2>${event.name} ${event.icon}</h2>
    <h1>${event.title}</h1>
    <p>**${event.subtitle}**</p>
`;

                // рзй. ржкржк-ржЖржк ржжрзЗржЦрж╛ржирзЛ
                overlayDiv.style.display = 'flex';
                overlayDiv.style.opacity = '1'; // ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рж╛ рж╣рж▓рзЛ ржпрзЗ ржЕржкрж╛рж╕рж┐ржЯрж┐ рзз рж╣ржмрзЗ
                
                // рзк. ржХржиржлрзЗржЯрж┐ рж╢рзБрж░рзБ ржХрж░рж╛ 
                if (event.styleClass === 'style-new-year' || event.styleClass === 'style-christmas') {
                    createConfetti(80); 
                } else if (event.styleClass === 'style-national' || event.styleClass === 'style-childrens-day') {
                    createConfetti(40);
                } else {
                    // ржЕржирзНржпрж╛ржирзНржп ржЗржнрзЗржирзНржЯрзЗрж░ ржЬржирзНржп рж╣рж╛рж▓ржХрж╛ ржХржиржлрзЗржЯрж┐
                    createConfetti(20); 
                }
            }
        }
        
        // ржбрзЛржо рж▓рзЛржб рж╣ржУржпрж╝рж╛рж░ ржкрж░ ржорзВрж▓ рж▓ржЬрж┐ржХ рж╢рзБрж░рзБ
        document.addEventListener('DOMContentLoaded', function() {
            const activeEvent = getActiveEvent();
            if (activeEvent) {
                injectPopupContent(activeEvent);
            }
        });
    </script>

</body>
</html>
