<!doctype html>
<html lang="bn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Happy New Year — Animation Popup</title>
  <style>
    :root{
      --overlay-bg: rgba(6, 6, 12, 0.85);
      --glass: rgba(255,255,255,0.06);
      --accent1: #ffd166;
      --accent2: #06d6a0;
      --accent3: #118ab2;
      --accent4: #ef476f;
    }
    /* Fullscreen overlay */
    html,body{height:100%;margin:0;font-family:Inter, "Noto Sans Bengali", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
    .popup-overlay{
      position:fixed;
      inset:0;
      z-index:99999;
      display:flex;
      align-items:center;
      justify-content:center;
      background: var(--overlay-bg);
      backdrop-filter: blur(5px) saturate(1.05);
      -webkit-backdrop-filter: blur(5px) saturate(1.05);
      overflow:hidden;
    }

    /* Canvas layers */
    canvas#fireworks, canvas#confetti { position:absolute; inset:0; width:100%; height:100%; pointer-events:none; }

    /* Center card (but mostly transparent so background fireworks visible) */
    .popup-content{
      position:relative;
      max-width:1000px;
      width:min(95%,1100px);
      height:min(720px,85vh);
      display:flex;
      align-items:center;
      justify-content:center;
      border-radius:18px;
      padding:28px;
      box-sizing:border-box;
      background: linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      box-shadow: 0 8px 30px rgba(2,6,23,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
      overflow:hidden;
    }

    /* Big animated headline */
    .headline {
      text-align:center;
      user-select:none;
    }
    .headline h1{
      margin:0;
      font-size: clamp(28px, 6vw, 84px);
      letter-spacing: -1px;
      line-height:0.95;
      font-weight:800;
      background: linear-gradient(90deg, #ffd166, #ef476f, #06d6a0, #118ab2);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      filter: drop-shadow(0 6px 28px rgba(0,0,0,0.45));
      animation: floatText 4s ease-in-out infinite;
    }
    @keyframes floatText{
      0% { transform: translateY(0) rotate(-0.5deg) scale(1); }
      50% { transform: translateY(-10px) rotate(0.8deg) scale(1.02); }
      100% { transform: translateY(0) rotate(-0.5deg) scale(1); }
    }

    .headline .sub{
      margin-top:12px;
      font-size: clamp(14px, 2.2vw, 20px);
      color: #f8f9fa;
      opacity:0.95;
      text-shadow: 0 2px 8px rgba(0,0,0,0.45);
    }

    /* Glitter rings around year */
    .year-badge{
      margin-top:18px;
      display:inline-grid;
      place-items:center;
      width: min(62vw, 420px);
      height: auto;
    }
    .year{
      display:inline-block;
      font-weight:900;
      font-size: clamp(34px, 6vw, 96px);
      padding: 12px 24px;
      border-radius: 40px;
      background: linear-gradient(120deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      border: 1px solid rgba(255,255,255,0.06);
      color:transparent;
      background-clip: text;
      -webkit-background-clip: text;
      background-image: linear-gradient(90deg, #ffd166, #ef476f, #06d6a0, #118ab2);
      filter: drop-shadow(0 4px 22px rgba(0,0,0,0.45));
      transform-origin:center;
      animation: popYear 1.6s cubic-bezier(.2,.9,.2,1) both;
    }
    @keyframes popYear{
      0%{ transform: scale(0.7); opacity:0; }
      60%{ transform: scale(1.05); opacity:1; }
      100%{ transform: scale(1); opacity:1; }
    }

    /* Decorative corner confetti shapes (pure CSS) */
    .glow {
      position:absolute;
      inset:auto 6% 6% auto;
      width:120px;height:120px;
      filter: blur(16px) saturate(1.1);
      opacity:0.9;
      transform: rotate(12deg);
    }
    .glow svg{ width:100%;height:100%; }

    /* Close button */
    .close-btn{
      position:absolute;
      right:18px;
      top:12px;
      width:44px;height:44px;
      border-radius:10px;
      display:grid;place-items:center;
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.06);
      cursor:pointer;
      z-index:100000;
      transition: transform .15s ease, backdrop-filter .15s;
      backdrop-filter: blur(4px) saturate(1.05);
    }
    .close-btn:hover{ transform: scale(1.06); }
    .close-btn svg{ width:18px;height:18px; filter: drop-shadow(0 2px 8px rgba(0,0,0,0.45)); }

    /* small screen adjustments */
    @media (max-width:600px){
      .popup-content{ padding:18px; border-radius:12px;}
      .glow{ width:88px;height:88px; right:6%; bottom:8%; }
    }

    /* tiny instruction */
    .hint{
      margin-top:14px;
      font-size:13px;
      color:rgba(255,255,255,0.8);
      opacity:0.9;
    }

    /* subtle footer sparkles row (absolute bottom) */
    .sparkles{
      position:absolute;
      bottom:14px;
      left:50%;
      transform:translateX(-50%);
      display:flex;
      gap:10px;
      z-index:2;
    }
    .sparkles div{
      width:6px;height:6px;border-radius:50%;
      background:var(--accent1);
      box-shadow: 0 0 12px rgba(255,200,80,0.9);
      animation: blink 1.5s infinite;
    }
    .sparkles div:nth-child(2){ background:var(--accent2); animation-delay:.2s;}
    .sparkles div:nth-child(3){ background:var(--accent3); animation-delay:.4s;}
    .sparkles div:nth-child(4){ background:var(--accent4); animation-delay:.6s;}
    @keyframes blink{ 0%,100%{ transform: translateY(0); opacity:0.8 } 50%{ transform: translateY(-8px); opacity:1 } }

  </style>
</head>
<body>
  <div class="popup-overlay" id="popupOverlay" role="dialog" aria-modal="true" aria-label="Happy New Year Popup">
    <!-- canvas layers for animations -->
    <canvas id="fireworks"></canvas>
    <canvas id="confetti"></canvas>

    <!-- close button -->
    <button class="close-btn" id="closeBtn" aria-label="Close popup">
      <svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>

    <div class="popup-content" id="popupContent">
      <div class="headline" id="headline">
        <h1>Happy New Year</h1>
        <div class="sub">নতুন বছরে শুভেচ্ছা — সুস্থতা, সাফল্য ও হাসি কামনা করি!</div>
        <div class="year-badge">
          <div class="year" id="yearText">2026</div>
        </div>
        <div class="hint">ক্লোজ করতে উপরের ডানের × চাপুন অথবা পপের বাইরে ক্লিক করুন</div>
      </div>

      <!-- decorative SVG glow -->
      <div class="glow" aria-hidden="true">
        <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <radialGradient id="g1">
              <stop offset="0%" stop-color="#ffd166" stop-opacity="0.95" />
              <stop offset="35%" stop-color="#ef476f" stop-opacity="0.85" />
              <stop offset="70%" stop-color="#06d6a0" stop-opacity="0.65" />
              <stop offset="100%" stop-color="#118ab2" stop-opacity="0.35" />
            </radialGradient>
          </defs>
          <circle cx="100" cy="100" r="70" fill="url(#g1)" />
        </svg>
      </div>

      <div class="sparkles" aria-hidden="true">
        <div></div><div></div><div></div><div></div>
      </div>
    </div>
  </div>

  <script>
    /* --------------------------
       Simple fireworks + confetti
       Compact but performant for modern browsers.
    ---------------------------*/
    (function(){
      const overlay = document.getElementById('popupOverlay');
      const content = document.getElementById('popupContent');
      const closeBtn = document.getElementById('closeBtn');
      const fwCanvas = document.getElementById('fireworks');
      const cfCanvas = document.getElementById('confetti');
      let fwCtx = fwCanvas.getContext('2d');
      let cfCtx = cfCanvas.getContext('2d');
      let w = fwCanvas.width = cfCanvas.width = innerWidth;
      let h = fwCanvas.height = cfCanvas.height = innerHeight;

      // Resize handler
      function onResize(){
        w = fwCanvas.width = cfCanvas.width = innerWidth;
        h = fwCanvas.height = cfCanvas.height = innerHeight;
      }
      addEventListener('resize', onResize);

      // Utility
      function rand(min,max){ return Math.random()*(max-min)+min; }
      function hueCycle(i){ return (i*47 + (Date.now()/60)) % 360; }

      /* ---------- Fireworks (particle bursts) ---------- */
      let fireworks = [];

      class Spark {
        constructor(x,y,dx,dy,color,size,life){
          this.x = x; this.y = y; this.dx = dx; this.dy = dy;
          this.color = color; this.size = size; this.life = life; this.age=0;
        }
        step(dt){
          this.age += dt;
          this.x += this.dx*dt;
          this.y += this.dy*dt + (this.age*0.02); // gravity
          this.dx *= 0.998;
          this.dy *= 0.998;
        }
        draw(ctx){
          const t = Math.max(0, 1 - this.age/this.life);
          ctx.save();
          ctx.globalCompositeOperation = 'lighter';
          ctx.beginPath();
          const g = ctx.createRadialGradient(this.x,this.y,0,this.x,this.y,this.size*6);
          g.addColorStop(0, this.color);
          g.addColorStop(0.6, this.color.replace('rgb','rgba').replace(')',',0.6)'));
          g.addColorStop(1, 'rgba(0,0,0,0)');
          ctx.fillStyle = g;
          ctx.arc(this.x,this.y, Math.max(0.6, this.size * (1 + (1-t)*2)), 0, Math.PI*2);
          ctx.fill();
          ctx.restore();
        }
      }

      function spawnFirework(){
        const cx = rand(w*0.15, w*0.85);
        const cy = rand(h*0.12, h*0.6);
        const hue = Math.floor(rand(0,360));
        const color = `rgb(${(200+Math.floor(rand(0,55)))},${(50+Math.floor(rand(0,205)))},${(50+Math.floor(rand(0,205)))})`;
        const count = Math.floor(rand(24,44));
        for(let i=0;i<count;i++){
          const angle = Math.random()*Math.PI*2;
          const speed = rand(1,6) * (0.8 + Math.random());
          const dx = Math.cos(angle)*speed;
          const dy = Math.sin(angle)*speed;
          const size = rand(1.2,2.8);
          const life = rand(0.9,1.8);
          fireworks.push(new Spark(cx,cy,dx,dy,color,size,life));
        }
      }

      /* ---------- Confetti (falling rectangles) ---------- */
      let confettis = [];
      function makeConfetti(){
        const count = 28;
        for(let i=0;i<count;i++){
          confettis.push({
            x: rand(0,w),
            y: rand(-h, 0),
            w: rand(6,12),
            h: rand(8,18),
            rot: rand(0,Math.PI*2),
            speedY: rand(30,160),
            speedX: rand(-40,40),
            spin: rand(-4,4),
            color: ['#ffd166','#ef476f','#06d6a0','#118ab2'][Math.floor(rand(0,4))]
          });
        }
      }

      // initial confetti
      makeConfetti();
      // spawn repeated fireworks
      let lastFW = 0;

      let lastTime = performance.now();
      function frame(now){
        const dt = Math.min(0.04, (now - lastTime)/1000);
        lastTime = now;

        // fireworks canvas clear
        fwCtx.clearRect(0,0,w,h);
        // confetti canvas clear
        cfCtx.clearRect(0,0,w,h);

        // spawn fireworks occasionally
        if(now - lastFW > rand(600,1400)){
          spawnFirework();
          lastFW = now;
        }

        // update & draw fireworks sparks
        for(let i=fireworks.length-1;i>=0;i--){
          const s = fireworks[i];
          s.step(dt);
          s.draw(fwCtx);
          if(s.age > s.life) fireworks.splice(i,1);
        }

        // confetti physics
        for(let i=confettis.length-1;i>=0;i--){
          const c = confettis[i];
          c.y += c.speedY * dt;
          c.x += c.speedX * dt;
          c.rot += c.spin * dt;
          // wrap or remove
          if(c.y > h + 60){
            confettis.splice(i,1);
          } else {
            cfCtx.save();
            cfCtx.translate(c.x, c.y);
            cfCtx.rotate(c.rot);
            cfCtx.fillStyle = c.color;
            cfCtx.fillRect(-c.w/2, -c.h/2, c.w, c.h);
            cfCtx.restore();
          }
        }
        // ensure confetti supply
        if(confettis.length < 18) makeConfetti();

        requestAnimationFrame(frame);
      }
      requestAnimationFrame(frame);

      /* ---------- Interaction: close on X or outside click or ESC ---------- */
      function stopAndRemove(){
        overlay.style.transition = 'opacity .28s ease, transform .28s ease';
        overlay.style.opacity = '0';
        overlay.style.transform = 'scale(0.995)';
        setTimeout(() => {
          // fully remove overlay from DOM so underlying page interactable
          if(overlay && overlay.parentNode) overlay.parentNode.removeChild(overlay);
          // cleanup listeners
          removeEventListener('resize', onResize);
          removeEventListener('keydown', keyHandler);
        }, 300);
      }
      closeBtn.addEventListener('click', stopAndRemove);

      // click outside popup content
      overlay.addEventListener('pointerdown', function(e){
        if(!content.contains(e.target)){
          stopAndRemove();
        }
      });

      // ESC key
      function keyHandler(e){
        if(e.key === 'Escape') stopAndRemove();
      }
      addEventListener('keydown', keyHandler);

      // prevent background scroll while popup visible
      document.documentElement.style.overflow = 'hidden';
      document.body.style.overflow = 'hidden';
      // When popup removed, restore scroll automatically
      const origOverflow = { html: document.documentElement.style.overflow, body: document.body.style.overflow };
      const obs = new MutationObserver(function(m){
        if(!document.getElementById('popupOverlay')){
          document.documentElement.style.overflow = origOverflow.html || '';
          document.body.style.overflow = origOverflow.body || '';
          obs.disconnect();
        }
      });
      obs.observe(document.documentElement, { childList:true, subtree:true });

    })();
  </script>
</body>
</html>
