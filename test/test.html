<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Section 1 - Exam Link for Teachers</title>
  <link rel="stylesheet" href="test_style.css">

  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
  <header class="main-header">
    <h1>PATHPUKUR HIGH SCHOOL (HS)</h1>
  </header>
  <div class="admin-panel-container">
    <h2>Institution Admin Panel</h2>

      <!-- Section 1, Exam Link for Teachers -->

    <section id="exam-link-teachers" class="admin-section">
      <div class="section-box">
        <h3 class="section-heading">Upload Exam Link for Teachers</h3>
        <div class="table-wrapper">
          <table id="table-exam-link-teacher" class="data-table">
            <thead>
              <tr>
                <th>Class</th>
                <th>ID</th>
                <th>Password</th>
                <th>URL</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
            </tbody>
          </table>
        </div>
        <div class="pagination" id="pagination-exam-link-teacher">
          <button id="prevBtn">Previous</button>
          <span id="pageNumber">1</span>
          <button id="nextBtn">Next</button>
        </div>
      </div>
    </section>
  </div>

  <!-- Modals -->
  <div id="deleteConfirmModal" class="table-modal-overlay">
    <div class="table-modal-content">
      <button class="close-modal-btn">&times;</button>
      <p>আপনি কি তথ্যগুলি মুছে ফেলতে চান?</p>
      <button id="confirmDeleteBtn">হ্যাঁ</button>
      <button id="cancelDeleteBtn">না</button>
    </div>
  </div>

  <div id="inputEditModal" class="table-modal-overlay">
    <div class="table-modal-content input-edit-content">
      <button class="close-modal-btn">&times;</button>
      <h3 id="inputEditModalHeading"></h3>
      <textarea id="inputEditTextArea"></textarea>
      <div class="modal-actions">
        <button id="storeInputBtn" class="store-btn">স্টোর করুন</button>
        <button id="cancelInputBtn" class="cancel-btn">বাতিল করুন</button>
      </div>
    </div>
  </div>

  <div id="validationModal" class="table-modal-overlay">
    <div class="table-modal-content validation-content">
      <button class="close-modal-btn">&times;</button>
      <p id="validationMessage"></p>
    </div>
  </div>

  <!-- Clear Confirmation Modal -->
<div id="clearConfirmModal" class="table-modal-overlay">
  <div class="table-modal-content">
    <p id="clearConfirmMessage">আপনি কি এই রো-এর ডেটা ক্লিয়ার করতে চান?</p>
    <button id="confirmClearBtn" class="clear-btn">হ্যাঁ</button>
    <button id="cancelClearBtn" class="cancel-btn">না</button>
  </div>
</div>
  
  <!-- Section 2, Exam Link for Students -->

<section id="student-link-section" class="admin-section">
  <h3 class="section-heading">Exam Link for Students</h3>
  <div class="table-wrapper">
    <table id="table-link-student" class="data-table">
      <thead>
        <tr>
          <th>Class</th>
          <th>URL</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
  <div class="pagination" id="pagination-link-student">
    <button disabled>Previous</button>
    <button disabled>Next</button>
  </div>
</section>

 <!-- Section 3,  Marks Submission Date for Teachers -->

<section id="marks-submission" class="admin-section">
  <h3 class="section-heading">Marks Submission Date for Teacher</h3>
  <div class="table-wrapper">
    <table id="table-marks-submission" class="data-table">
      <thead>
        <tr>
          <th>Exam</th>
          <th>Date</th>
          <th>Color</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
  <div class="pagination" id="pagination-marks-submission"></div>
</section>

    <!-- Section 4,  ......  -->
  

    <section id="scrolling-teacher-section">
        <h2>Scrolling Notice for Teacher</h2>
        <table id="table-scrolling-teacher" class="data-table">
            <thead>
                <tr>
                    <th>Subject</th>
                    <th>Color</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                </tbody>
        </table>
        <div id="pagination-table-scrolling-teacher" class="pagination-controls"></div>
    </section>




     <!-- Section 5,  ......  -->

  
    <section id="scrolling-student" class="admin-section">
      <h3 class="section-heading">Scrolling Notice for Students</h3>
      <div class="table-wrapper">
        <table id="table-scrolling-student" class="data-table">
          <thead>
            <tr>
              <th>Subject</th>
              <th>Color</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
      <div class="pagination" id="pagination-table-scrolling-student"></div>
    </section>
  </div>

  <!-- Validation Modal -->
  <div id="validationModal" class="table-modal-overlay">
    <div class="table-modal-content">
      <p id="validationMessage"></p>
      <button id="validationCloseBtn" class="cancel-btn">ঠিক আছে</button>
    </div>
  </div>

  <!-- Delete Confirmation Modal -->
  <div id="deleteConfirmModal" class="table-modal-overlay">
    <div class="table-modal-content">
      <p id="confirmMessage">আপনি কি ডিলেট করতে চান?</p>
      <button id="confirmDeleteBtn" class="clear-btn">হ্যাঁ</button>
      <button id="cancelDeleteBtn" class="cancel-btn">না</button>
    </div>
  </div>

  <script>
  // --- স্ক্রোলিং স্টুডেন্ট JS কোড ---

  const ROWS_PER_PAGE = 10;
  let data = [];
  let pagination = null;
  let rowToDelete = null;

  const valModal = document.getElementById('validationModal');
  const valMsg = document.getElementById('validationMessage');
  const valCloseBtn = document.getElementById('validationCloseBtn');
  const delModal = document.getElementById('deleteConfirmModal');
  const delMsg = document.getElementById('confirmMessage');
  const delOk = document.getElementById('confirmDeleteBtn');
  const delCancel = document.getElementById('cancelDeleteBtn');

  function showMsg(m) { valMsg.textContent = m; valModal.style.display = 'flex'; }

  function createRow(obj={}, isInput=false, isEdit=false) {
    const tr = document.createElement('tr');
    if(isEdit) tr.classList.add('editing');
    if(isInput) tr.classList.add('input-row');

    ['Subject','Color','Action'].forEach(col => {
      const td = document.createElement('td');
      if(col==='Action') {
        const div = document.createElement('div'); div.classList.add('action-buttons');
        if(isInput) {
          const add = document.createElement('button');
          add.textContent='Add'; add.className='save-btn';
          add.onclick = ()=>save(tr,true);
          div.appendChild(add);
        } else if(isEdit) {
          const save = document.createElement('button');
          save.textContent='Save'; save.className='save-btn';
          save.onclick = ()=>save(tr,false);
          const cancel = document.createElement('button');
          cancel.textContent='Cancel'; cancel.className='cancel-btn';
          cancel.onclick = ()=>renderCurr();
          div.append(save,cancel);
        } else {
          const edit = document.createElement('button');
          edit.textContent='Edit'; edit.className='edit-btn';
          edit.onclick = ()=>editRow(tr);
          const del = document.createElement('button');
          del.textContent='Delete'; del.className='clear-btn';
          del.onclick = ()=>{
            rowToDelete = tr;
            delModal.style.display = 'flex';
          };
          div.append(edit,del);
        }
        td.appendChild(div);
      } else {
        if(isInput||isEdit) {
          const inp = document.createElement('input');
          inp.type = col==='Color' ? 'color' : 'text';
          inp.value = obj[col]||'';
          td.appendChild(inp);
        } else td.textContent = obj[col]||'';
      }
      tr.appendChild(td);
    });
    return tr;
  }

  function setup() {
    const tbody = document.querySelector('#table-scrolling-student tbody');
    const pag = document.getElementById('pagination-table-scrolling-student');
    let curr=1, total=()=>Math.ceil(data.length/ROWS_PER_PAGE);
    
    function renderPage(p=1) {
      curr=p; tbody.innerHTML='';
      tbody.appendChild(createRow({},{},true));
      let start=(p-1)*ROWS_PER_PAGE;
      data.slice(start,start+ROWS_PER_PAGE).forEach(o=>tbody.appendChild(createRow(o,false,false)));
      renderPag();
    }
    function renderPag() {
      pag.innerHTML='';
      if(total()==0) return;
      const prev=document.createElement('button');
      prev.textContent='Prev'; prev.disabled=curr===1;
      prev.onclick=()=>renderPage(curr-1); pag.append(prev);
      for(let i=1;i<=total();i++){
        const b=document.createElement('button');
        b.textContent=i; if(i===curr)b.style.fontWeight='bold';
        b.onclick=()=>renderPage(i); pag.append(b);
      }
      const next=document.createElement('button');
      next.textContent='Next'; next.disabled=curr===total();
      next.onclick=()=>renderPage(curr+1); pag.append(next);
    }

    renderCurr = () => renderPage(curr);
    pagination = {renderPage};

    renderPage(1);
  }

  function save(tr,isNew) {
    const inputs=tr.querySelectorAll('input');
    const obj={Subject:inputs[0].value.trim(),Color:inputs[1].value};
    if(!obj.Subject) { showMsg('Subject ফাঁকা যাবে না'); return; }
    if(isNew) data.unshift(obj); else {
      const orig = JSON.parse(tr.dataset.orig);
      const idx=data.findIndex(o=>o.Subject===orig.Subject && o.Color===orig.Color);
      if(idx>=0) data[idx]=obj;
    }
    setup();
  }

  function editRow(tr) {
    const orig={};
    tr.querySelectorAll('td').forEach((td,i)=>{
      if(i<2) orig[['Subject','Color'][i]] = td.textContent.trim();
    });
    tr.dataset.orig = JSON.stringify(orig);
    tr.replaceWith(createRow(orig,false,true));
  }

  delCancel.onclick = ()=>{ delModal.style.display='none'; rowToDelete=null; };
  valCloseBtn.onclick = ()=>valModal.style.display='none';
  delOk.onclick = ()=>{
    if(rowToDelete){
      const orig=JSON.parse(rowToDelete.dataset.orig);
      data=data.filter(o=>!(o.Subject===orig.Subject&&o.Color===orig.Color));
      setup();
      showMsg('সফল ভাবে ডিলেট হয়েছে');
    }
    delModal.style.display='none'; rowToDelete=null;
  };

  document.addEventListener('DOMContentLoaded', setup);
  </script>


    






  


    <script src="scrolling_teacher.js"></script>
  





  
  <script src="test_script.js"></script>
</body>
</html>
